<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>wangEditor demo</title>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/wangeditor@3.1.1/release/wangEditor.min.js"></script>
</head>
<body>
<div id="div1">
    <p>欢迎使用 <b>wangEditor</b> 富文本编辑器</p>
</div>
<button type="button" onclick="textsubmit()" >提交</button>
<textarea id="text1" style="width:100%; height:200px;"></textarea>
<textarea id="text2" style="width:100%; height:200px;"></textarea>
<div id = "contentHtml"></div>
<script type="text/javascript">
    var E = window.wangEditor
    var editor = new E('#div1')
    var $text1 = $('#text1')
    editor.customConfig.onchange = function (html) {
        // 监控变化，同步更新到 textarea
        $text1.val(html)
    }
    editor.create()
    // 初始化 textarea 的值
    $text1.val(editor.txt.html())
</script>

<script type="text/javascript">
    function textsubmit() {
        var content = editor.txt.html();
        console.log(content);
        $.ajax({
            type:"post",
            url:"/editSave",
            data:content,
            contentType: "application/json",
            success:function (data) {
                $("#contentHtml").html("");
                $('#text2').val(data);
                $("#contentHtml").append(data);
            },
            error:function () {
                $('#text2').val("error!");
            }
        })
    }
</script>
</body>
</html>